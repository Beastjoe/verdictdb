<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started &#8212; Verdict 0.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx13.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/verdict.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Verdict 0.2 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
         Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-90971135-3', 'auto');
        ga('send', 'pageview');
    </script>
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script type="text/javascript">
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head>
  <body role="document">
<div class="pageheader">
  <ul>
    <li><a href="../download.html">Download</a></li>
    <li><a href="../documentation.html">Documentation</a></li>
    <li><a href="../examples.html">Examples</a></li>
    <li><a href="../community.html">Community</a></li>
  </ul>
  <div>
    <a href="../index.html">
      <img src="../_static/verdictheader.png" alt="Verdict" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Verdict home</a>&#160;|</li>
        <li><a href="../documentation.html">Documentation</a> &#187;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting Started</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#download-and-install">Download and Install</a></li>
<li><a class="reference internal" href="#preparing-test-data">Preparing Test Data</a></li>
<li><a class="reference internal" href="#connecting-to-database-using-veeline">Connecting to Database using Veeline</a></li>
<li><a class="reference internal" href="#basic-veeline-commands">Basic Veeline Commands</a></li>
<li><a class="reference internal" href="#sample-creation">Sample Creation</a></li>
<li><a class="reference internal" href="#approximate-analysis">Approximate Analysis</a></li>
<li><a class="reference internal" href="#exiting-veeline">Exiting Veeline</a></li>
<li><a class="reference internal" href="#learn-more">Learn More</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/documentation/tutorial.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="getting-started">
<span id="id1"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>In this guide, we will download Verdict, and issue analytic SQL queries to your
database using Verdict&#8217;s command-line interface <em>veeline</em>. Note that Verdict
provides fast big data analytics as working on top of an existing database. In
this guide, we will set Verdict to connect to MySQL. Connecting to the other
databases follow the same instruction except for a connection string (as will be
described below).</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><strong>Java Development Kit (JDK) 1.7 or above</strong> You can download a recent version of JDK
from <a class="reference external" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Oracle website</a> or can
install open JDK using package managers such as <code class="code docutils literal"><span class="pre">apt-get</span></code>.</li>
</ol>
<ol class="arabic simple">
<li><strong>Apache Maven</strong> The official instruction for installing Apache Maven is
available from <a class="reference external" href="https://maven.apache.org/install.html">Maven website</a>. Apache Maven is also available
from many package managers.</li>
</ol>
<ol class="arabic simple">
<li><strong>Supported Database</strong> <a class="reference internal" href="features.html#features"><span class="std std-ref">Features</span></a> page lists supported databases. In
this guide, we will use MySQL since it is already installed in many operating
systems. Using this guide for other databases only requires the change of
connection string (which includes the name of your database, host address, etc.).</li>
</ol>
</div>
<div class="section" id="download-and-install">
<h2>Download and Install<a class="headerlink" href="#download-and-install" title="Permalink to this headline">¶</a></h2>
<p>Download the zip file that includes source code and command-line interface from
the <a class="reference internal" href="../download.html#download"><span class="std std-ref">Download</span></a> page. Unzip the downloaded file and go to the directory. Then, type:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>mvn package
</pre></div>
</div>
<p>Successful compilation creates three jar files in the <code class="code docutils literal"><span class="pre">target</span></code> directory
as follows.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pyongjoo@umich:verdict $ ls -l target
total 16000
drwxr-xr-x   <span class="m">5</span> pyongjoo  staff   170B May <span class="m">30</span> 21:58 .
drwxr-xr-x  <span class="m">14</span> pyongjoo  staff   476B May <span class="m">30</span> 20:24 ..
-rw-r--r--   <span class="m">1</span> pyongjoo  staff   3.7M May <span class="m">30</span> 21:53 verdict-core-0.2.0-SNAPSHOT-jar-with-dependencies.jar
-rw-r--r--   <span class="m">1</span> pyongjoo  staff   3.7M May <span class="m">30</span> 21:53 verdict-jdbc-0.2.0-SNAPSHOT-jar-with-dependencies.jar
-rw-r--r--   <span class="m">1</span> pyongjoo  staff   379K May <span class="m">30</span> 21:53 verdict-veeline-0.2.0-SNAPSHOT-jar-with-dependencies.jar
</pre></div>
</div>
</div>
<div class="section" id="preparing-test-data">
<h2>Preparing Test Data<a class="headerlink" href="#preparing-test-data" title="Permalink to this headline">¶</a></h2>
<p>We will create a test table in MySQL for this guide. Suppose MySQL is installed
locally, and its username/password is verdict/verdict, and the user <code class="code docutils literal"><span class="pre">verdict</span></code>
has read/write access to the database schema <code class="code docutils literal"><span class="pre">test</span></code>.</p>
<p>Go to the <code class="code docutils literal"><span class="pre">veeline</span></code> directory, and run the <code class="code docutils literal"><span class="pre">gen_test_table.sql</span></code>
script by typing:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pyongjoo@umich:verdict $ mysql -u verdict -pverdict <span class="nb">test</span> &lt; gen_test_table.sql
</pre></div>
</div>
<p>The script creates a table named <code class="code docutils literal"><span class="pre">test_table</span></code>. The table follows a
schema <code class="code docutils literal"><span class="pre">(name</span> <span class="pre">INT,</span> <span class="pre">value</span> <span class="pre">DOUBLE)</span></code>. The script also populates about 8
million randomly generated tuples into the table.</p>
</div>
<div class="section" id="connecting-to-database-using-veeline">
<h2>Connecting to Database using Veeline<a class="headerlink" href="#connecting-to-database-using-veeline" title="Permalink to this headline">¶</a></h2>
<p>Veeline is a command-line interface for Verdict. In the &#8216;veeline&#8217; directory,
type the below command to start veeline and connect to the MySQL database.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>bin/veeline -h mysql://&lt;host addrses&gt;:&lt;port&gt; -u &lt;username&gt; -p &lt;password&gt;
</pre></div>
</div>
<p>For other databases, a different database name should be used after the
<code class="code docutils literal"><span class="pre">-h</span></code> argument. <a class="reference internal" href="veeline_to_databases.html#veeline"><span class="std std-ref">Connecting to Databases using Veeline</span></a> page lists the names for other databases.
If MySQL is installed locally, and its username/password is
verdict/verdict, one can start veeline by typing:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>bin/veeline -h mysql://localhost:3306 -u verdict -p verdict
</pre></div>
</div>
<p>This command will display a prompt <code class="code docutils literal"><span class="pre">verdict:MySQL&gt;</span></code>.</p>
</div>
<div class="section" id="basic-veeline-commands">
<h2>Basic Veeline Commands<a class="headerlink" href="#basic-veeline-commands" title="Permalink to this headline">¶</a></h2>
<p>Choose the <code class="code docutils literal"><span class="pre">test</span></code> database by typing:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; use test<span class="p">;</span>
</pre></div>
</div>
<p>You can list tables in the database as follows.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; show tables<span class="p">;</span>
+-------------+
<span class="p">|</span> TABLE_NAME  <span class="p">|</span>
+-------------+
<span class="p">|</span> test_table  <span class="p">|</span>
+-------------+
<span class="m">1</span> row selected <span class="o">(</span>0.014 seconds<span class="o">)</span>
</pre></div>
</div>
<p>You can also display the table definition as follows.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; describe test_table<span class="p">;</span>
+--------------+------------+----------+
<span class="p">|</span> COLUMN_NAME  <span class="p">|</span> TYPE_NAME  <span class="p">|</span> REMARKS  <span class="p">|</span>
+--------------+------------+----------+
<span class="p">|</span> name         <span class="p">|</span> INT        <span class="p">|</span>          <span class="p">|</span>
<span class="p">|</span> value        <span class="p">|</span> DOUBLE     <span class="p">|</span>          <span class="p">|</span>
+--------------+------------+----------+
<span class="m">2</span> rows selected <span class="o">(</span>0.014 seconds<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="sample-creation">
<h2>Sample Creation<a class="headerlink" href="#sample-creation" title="Permalink to this headline">¶</a></h2>
<p>Verdict speeds up its query processing by using sample tables. To create a
sample of the <code class="code docutils literal"><span class="pre">test_table</span></code> table, type:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; create sample from test_table<span class="p">;</span>
INFO   2017-05-30 23:01:37,578 - <span class="o">[</span>VerdictCreateSampleQuery<span class="o">]</span> Create a 1.0000 percentage sample of test_table.
<span class="m">1</span> row affected <span class="o">(</span>12.483 seconds<span class="o">)</span>
</pre></div>
</div>
<p>By default, <code class="code docutils literal"><span class="pre">create</span> <span class="pre">sample</span></code> query creates 1% sample. <a class="reference internal" href="features.html#features"><span class="std std-ref">Features</span></a> page lists
more options.</p>
</div>
<div class="section" id="approximate-analysis">
<h2>Approximate Analysis<a class="headerlink" href="#approximate-analysis" title="Permalink to this headline">¶</a></h2>
<p>We will first issue two queries through Verdict. Next, we will compare those
approximate answers by Verdict to the exact answers. For this guide, we will use
relatively simple aggregate queries; however, Verdict supports complex nested
queries as presented <a class="reference internal" href="../examples.html#examples"><span class="std std-ref">Examples</span></a> page.</p>
<p>The first query is a groupby-count query.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; <span class="k">select</span> name, count<span class="o">(</span>*<span class="o">)</span> from test_table group by name<span class="p">;</span>
INFO   2017-05-30 23:03:14,194 - Verdict is using a sample table <span class="k">for</span> test.test_table
+-------+--------------------+
<span class="p">|</span> name  <span class="p">|</span> count<span class="o">(</span>*<span class="o">)</span> <span class="o">(</span>Approx<span class="o">)</span>  <span class="p">|</span>
+-------+--------------------+
<span class="p">|</span> <span class="m">1</span>     <span class="p">|</span> <span class="m">1051620</span>            <span class="p">|</span>
<span class="p">|</span> <span class="m">2</span>     <span class="p">|</span> <span class="m">2101434</span>            <span class="p">|</span>
<span class="p">|</span> <span class="m">3</span>     <span class="p">|</span> <span class="m">3137097</span>            <span class="p">|</span>
<span class="p">|</span> <span class="m">4</span>     <span class="p">|</span> <span class="m">4184703</span>            <span class="p">|</span>
<span class="p">|</span> <span class="m">5</span>     <span class="p">|</span> <span class="m">5253785</span>            <span class="p">|</span>
+-------+--------------------+
<span class="m">5</span> rows selected <span class="o">(</span>0.09 seconds<span class="o">)</span>
</pre></div>
</div>
<p>The second query is an groupby-average query.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; <span class="k">select</span> name, avg<span class="o">(</span>value<span class="o">)</span> from test_table group by name<span class="p">;</span>
INFO   2017-05-30 23:04:23,088 - Verdict is using a sample table <span class="k">for</span> test.test_table
+-------+----------------------+
<span class="p">|</span> name  <span class="p">|</span> avg<span class="o">(</span>value<span class="o">)</span> <span class="o">(</span>Approx<span class="o">)</span>  <span class="p">|</span>
+-------+----------------------+
<span class="p">|</span> <span class="m">1</span>     <span class="p">|</span> 526.8445440930807    <span class="p">|</span>
<span class="p">|</span> <span class="m">2</span>     <span class="p">|</span> 986.6722179157971    <span class="p">|</span>
<span class="p">|</span> <span class="m">3</span>     <span class="p">|</span> 1020.0752693151406   <span class="p">|</span>
<span class="p">|</span> <span class="m">4</span>     <span class="p">|</span> 589.3834650199314    <span class="p">|</span>
<span class="p">|</span> <span class="m">5</span>     <span class="p">|</span> 1958.1851174049732   <span class="p">|</span>
+-------+----------------------+
<span class="m">5</span> rows selected <span class="o">(</span>0.105 seconds<span class="o">)</span>
</pre></div>
</div>
<p>On average, Verdict took about 0.1 second for answering those queries. Now let
us compare these to the exact results. To disable Verdict&#8217;s approximate
processing, we set a <code class="code docutils literal"><span class="pre">bypass</span></code> option to true as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; <span class="nb">set</span> <span class="nv">bypass</span><span class="o">=</span><span class="s1">&#39;true&#39;</span><span class="p">;</span>
+-----------+-------------+
<span class="p">|</span> conf_key  <span class="p">|</span> conf_value  <span class="p">|</span>
+-----------+-------------+
<span class="p">|</span> bypass    <span class="p">|</span> <span class="nb">true</span>        <span class="p">|</span>
+-----------+-------------+
<span class="m">1</span> row selected <span class="o">(</span>0.006 seconds<span class="o">)</span>
</pre></div>
</div>
<p>Now let us issue those two queries again.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>verdict:MySQL&gt; <span class="k">select</span> name, count<span class="o">(</span>*<span class="o">)</span> from test_table group by name<span class="p">;</span>
INFO   2017-05-30 23:07:16,484 - Verdict bypasses this query. Run <span class="s2">&quot;set bypass=&#39;false&#39;&quot;</span> to <span class="nb">enable</span> Verdict<span class="s1">&#39;s approximate query processing.</span>
<span class="s1">+-------+-----------+</span>
<span class="s1">| name  | count(*)  |</span>
<span class="s1">+-------+-----------+</span>
<span class="s1">| 1     | 1048576   |</span>
<span class="s1">| 2     | 2097152   |</span>
<span class="s1">| 3     | 3145728   |</span>
<span class="s1">| 4     | 4194304   |</span>
<span class="s1">| 5     | 5242880   |</span>
<span class="s1">+-------+-----------+</span>
<span class="s1">5 rows selected (7.725 seconds)</span>
<span class="s1">verdict:MySQL&gt;</span>
<span class="s1">verdict:MySQL&gt; select name, avg(value) from test_table group by name;</span>
<span class="s1">INFO   2017-05-30 23:07:34,208 - Verdict bypasses this query. Run &quot;set bypass=&#39;</span>false<span class="s1">&#39;&quot; to enable Verdict&#39;</span>s approximate query processing.
+-------+---------------------+
<span class="p">|</span> name  <span class="p">|</span>     avg<span class="o">(</span>value<span class="o">)</span>      <span class="p">|</span>
+-------+---------------------+
<span class="p">|</span> <span class="m">1</span>     <span class="p">|</span> 532.5015406562342   <span class="p">|</span>
<span class="p">|</span> <span class="m">2</span>     <span class="p">|</span> 958.4139427125336   <span class="p">|</span>
<span class="p">|</span> <span class="m">3</span>     <span class="p">|</span> 1029.2677763141228  <span class="p">|</span>
<span class="p">|</span> <span class="m">4</span>     <span class="p">|</span> 590.2856817643471   <span class="p">|</span>
<span class="p">|</span> <span class="m">5</span>     <span class="p">|</span> 1950.7577719997025  <span class="p">|</span>
+-------+---------------------+
<span class="m">5</span> rows selected <span class="o">(</span>7.838 seconds<span class="o">)</span>
</pre></div>
</div>
<p>In this example, Verdict processed those queries about 77 times faster. The
answers by Verdict were still 99% accurate. Verdict can show even bigger
speedups when the original data are larger.</p>
</div>
<div class="section" id="exiting-veeline">
<h2>Exiting Veeline<a class="headerlink" href="#exiting-veeline" title="Permalink to this headline">¶</a></h2>
<p>You can exit veeline by typing <code class="code docutils literal"><span class="pre">!quit</span></code>.</p>
</div>
<div class="section" id="learn-more">
<h2>Learn More<a class="headerlink" href="#learn-more" title="Permalink to this headline">¶</a></h2>
<p>We describe more veeline options in the <a class="reference internal" href="veeline_to_databases.html#veeline"><span class="std std-ref">Connecting to Databases using Veeline</span></a> page.</p>
<p>Your application can connect to Verdict programmatically using the standard JDBC
interface provided by Verdict (see <a class="reference internal" href="jdbc_to_databases.html#jdbc"><span class="std std-ref">Connecting to Databases using Verdict&#8217;s JDBC Driver</span></a> page).</p>
<p>Verdict supports secure access to your database using Kerberos and SSL. See
<a class="reference internal" href="secure.html#secure"><span class="std std-ref">Secure Access to Your Database</span></a> page.</p>
<p>If you want to understand the architecture of Verdict, see <a class="reference internal" href="architecture.html#architecture"><span class="std std-ref">Verdict Architecture</span></a>
page.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Verdict home</a>&#160;|</li>
        <li><a href="../documentation.html">Documentation</a> &#187;</li>
 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>